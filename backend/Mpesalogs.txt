|blockcoop-backend  | {"level":"info","message":"102.209.18.196 - - [11/Oct/2025:14:00:40 +0000] \"GET /api/health HTTP/1.0\" 200 456 \"https://shares.blockcoopsacco.com/\" \"Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36\"","service":"mpesa-backend","timestamp":"2025-10-11 16:00:40"}
0|blockcoop-backend  | {"amount":130,"callbackUrl":"https://api.blockcoopsacco.com/api/mpesa/callback","level":"info","message":"Initiating STK Push:","mpesaBaseUrl":"https://api.safaricom.co.ke","packageId":2,"phoneNumber":"254***526","service":"mpesa-backend","timeoutUrl":"https://api.blockcoopsacco.com/api/mpesa/timeout","timestamp":"2025-10-11 16:00:47","transactionId":"22605782-51d5-4407-9c00-c3449df47fde"}
0|blockcoop-backend  | {"checkoutRequestId":"ws_CO_11102025170047633769337526","level":"info","message":"STK Push initiated successfully:","service":"mpesa-backend","timestamp":"2025-10-11 16:00:47","transactionId":"22605782-51d5-4407-9c00-c3449df47fde"}
0|blockcoop-backend  | {"amount":1,"level":"info","message":"Payment initiated successfully:","service":"mpesa-backend","timestamp":"2025-10-11 16:00:47","transactionId":"22605782-51d5-4407-9c00-c3449df47fde","walletAddress":"0xff81cba6da71c50cc3123b277e612c95895abc67"}
0|blockcoop-backend  | {"level":"info","message":"102.209.18.196 - - [11/Oct/2025:14:00:47 +0000] \"POST /api/mpesa/initiate-payment HTTP/1.1\" 200 261 \"https://shares.blockcoopsacco.com/\" \"Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36\"","service":"mpesa-backend","timestamp":"2025-10-11 16:00:47"}
0|blockcoop-backend  | {"Body":{"stkCallback":{"CallbackMetadata":{"Item":[{"Name":"Amount","Value":130},{"Name":"MpesaReceiptNumber","Value":"TJBN374QD2"},{"Name":"Balance"},{"Name":"TransactionDate","Value":20251011170055},{"Name":"PhoneNumber","Value":254769337526}]},"CheckoutRequestID":"ws_CO_11102025170047633769337526","MerchantRequestID":"4e20-41c4-9e2f-14543dce74903670884","ResultCode":0,"ResultDesc":"The service request is processed successfully."}},"level":"info","message":"M-Pesa callback received:","service":"mpesa-backend","timestamp":"2025-10-11 16:00:56"}
0|blockcoop-backend  | {"amount":130,"level":"info","message":"Payment completed:","mpesaReceiptNumber":"TJBN374QD2","service":"mpesa-backend","timestamp":"2025-10-11 16:00:56","transactionId":"22605782-51d5-4407-9c00-c3449df47fde"}
0|blockcoop-backend  | {"level":"info","message":"Initiating blockchain purchase for completed M-Pesa payment:","packageId":2,"service":"mpesa-backend","timestamp":"2025-10-11 16:00:56","transactionId":"22605782-51d5-4407-9c00-c3449df47fde","walletAddress":"0xff81cba6da71c50cc3123b277e612c95895abc67"}
0|blockcoop-backend  | {"amountUsd":1,"level":"info","message":"Executing blockchain purchase:","packageId":2,"retryCount":0,"service":"mpesa-backend","timestamp":"2025-10-11 16:00:56","transactionId":"22605782-51d5-4407-9c00-c3449df47fde","walletAddress":"0xff81cba6da71c50cc3123b277e612c95895abc67"}
0|blockcoop-backend  | {"adapter":"0x244C89ED408d6b5D8f798908451d4477c18Ca650","buyer":"0xff81cba6da71c50cc3123b277e612c95895abc67","level":"info","message":"Purchasing package via adapter (Safe-funded)...","packageId":2,"referrer":"0x0000000000000000000000000000000000000000","service":"mpesa-backend","timestamp":"2025-10-11 16:00:57"}
0|blockcoop-backend  | {"code":"CALL_EXCEPTION","error":"execution reverted (no data present; likely require(false) occurred (action=\"estimateGas\", data=\"0x\", reason=\"require(false)\", transaction={ \"data\": \"0x67785d48000000000000000000000000ff81cba6da71c50cc3123b277e612c95895abc6700000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000\", \"from\": \"0x842d803eB7d05D6Aa2DdB8c3Eb912e6d97ce31C4\", \"to\": \"0x244C89ED408d6b5D8f798908451d4477c18Ca650\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"Purchase transaction failed:","reason":"require(false)","service":"mpesa-backend","timestamp":"2025-10-11 16:00:57"}
0|blockcoop-backend  | {"error":"execution reverted (no data present; likely require(false) occurred (action=\"estimateGas\", data=\"0x\", reason=\"require(false)\", transaction={ \"data\": \"0x67785d48000000000000000000000000ff81cba6da71c50cc3123b277e612c95895abc6700000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000\", \"from\": \"0x842d803eB7d05D6Aa2DdB8c3Eb912e6d97ce31C4\", \"to\": \"0x244C89ED408d6b5D8f798908451d4477c18Ca650\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"Blockchain purchase failed:","retryCount":0,"service":"mpesa-backend","timestamp":"2025-10-11 16:00:57","transactionId":"22605782-51d5-4407-9c00-c3449df47fde"}
0|blockcoop-backend  | {"error":"Blockchain purchase failed: execution reverted (no data present; likely require(false) occurred (action=\"estimateGas\", data=\"0x\", reason=\"require(false)\", transaction={ \"data\": \"0x67785d48000000000000000000000000ff81cba6da71c50cc3123b277e612c95895abc6700000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000\", \"from\": \"0x842d803eB7d05D6Aa2DdB8c3Eb912e6d97ce31C4\", \"to\": \"0x244C89ED408d6b5D8f798908451d4477c18Ca650\" }, invocation=null, revert=null, code=CALL_EXCEPTION, version=6.15.0)","level":"error","message":"Blockchain purchase failed after successful M-Pesa payment:","service":"mpesa-backend","timestamp":"2025-10-11 16:00:57","transactionId":"22605782-51d5-4407-9c00-c3449df47fde"}
0|blockcoop-backend  | {"level":"info","message":"196.201.214.200 - - [11/Oct/2025:14:00:57 +0000] \"POST /api/mpesa/callback HTTP/1.0\" 200 34 \"-\" \"ReactorNetty/1.2.9\"","service":"mpesa-backend","timestamp":"2025-10-11 16:00:57"}
0|blockcoop-backend  | {"level":"info","message":"102.209.18.196 - - [11/Oct/2025:14:00:59 +0000] \"GET /api/mpesa/status/ws_CO_11102025170047633769337526 HTTP/1.1\" 200 315 \"https://shares.blockcoopsacco.com/\" \"Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36\"","service":"mpesa-backend","timestamp":"2025-10-11 16:00:59"}
0|blockcoop-backend  | {"level":"info","message":"102.209.18.196 - - [11/Oct/2025:14:01:06 +0000] \"GET /api/mpesa/referrals/0xff81cba6da71c50cc3123b277e612c95895abc67 HTTP/1.1\" 404 119 \"https://shares.blockcoopsacco.com/\" \"Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36\"","service":"mpesa-backend","timestamp":"2025-10-11 16:01:06"}
0|blockcoop-backend  | {"level":"info","message":"102.209.18.196 - - [11/Oct/2025:14:01:07 +0000] \"GET /api/mpesa/status/ws_CO_11102025170047633769337526 HTTP/1.1\" 304 - \"https://shares.blockcoopsacco.com/\" \"Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36\"","service":"mpesa-backend","timestamp":"2025-10-11 16:01:07"}
0|blockcoop-backend  | {"level":"info","message":"102.209.18.196 - - [11/Oct/2025:14:01:09 +0000] \"GET /api/mpesa/referrals/0xff81cba6da71c50cc3123b277e612c95895abc67 HTTP/1.1\" 404 119 \"https://shares.blockcoopsacco.com/\" \"Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Mobile Safari/537.36\"","service":"mpesa-backend","timestamp":"2025-10-11 16:01:09"}
$ 